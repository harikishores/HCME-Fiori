/*
 * Copyright (C) 2009-2014 SAP SE or an SAP affiliate company. All rights reserved
 */
jQuery.sap.declare("cus.sd.myquotations.util.Formatter");jQuery.sap.require("sap.ca.ui.model.format.DateFormat");jQuery.sap.require("sap.ca.ui.model.format.NumberFormat");jQuery.sap.require("sap.ca.ui.model.format.AmountFormat");jQuery.sap.require("sap.ca.ui.model.format.QuantityFormat");cus.sd.myquotations.util.Formatter={_applicationFacade:null,setApplicationFacade:function(a){cus.sd.myquotations.util.Formatter._applicationFacade=a},getApplicationFacade:function(){return cus.sd.myquotations.util.Formatter._applicationFacade},getResourceBundle:function(){return cus.sd.myquotations.util.Formatter.getApplicationFacade().getResourceBundle()},Number:function(v){if(v){var n=sap.ca.ui.model.format.NumberFormat.getInstance({style:'short',decimals:2});return n.format(v)}return v},PriceCurrency:function(v,c){if(!v){v=0}var a=sap.ca.ui.model.format.AmountFormat.getInstance(c,{style:'standard'});return a.format(v)},NbItems:function(v){if(v===0||v){return cus.sd.myquotations.util.Formatter.getResourceBundle().getText("ITEMS",[v])}return v},Date:function(v){if(v){var d=sap.ca.ui.model.format.DateFormat.getDateInstance({style:"short"});return d.format(v,true)}return v},AttachmentMap:{"ppt":"ppt-attachment","pdf":"pdf-attachment","zip":"attachment-zip-file"},AttachmentIcon:function(v){var m=cus.sd.myquotations.util.Formatter.AttachmentMap;var c=(v&&m[v])?m[v]:"question-mark";return"sap-icon://"+c},QuotationSubmitPageTitle:function(v){if(v){return cus.sd.myquotations.util.Formatter.getResourceBundle().getText("REVIEWANDUPDATEQUOTATION",[v])}return cus.sd.myquotations.util.Formatter.getResourceBundle().getText("REVIEWANDCREATEQUOTATION")},Percentage:function(v){if(v){var n=sap.ca.ui.model.format.NumberFormat.getInstance({style:'percentage'});return n.format(v)}return v},formatDiscount:function(d,u){if(!u){u=""}if(!d){d=0}var a=cus.sd.myquotations.util.Formatter.formatUnitCurrency(d,u);var D=cus.sd.myquotations.util.Formatter.getResourceBundle().getText("OVERALL_DISCOUNT_VALUE",[a]);return D},formatItemDiscount:function(p){if(!p){p=0}var n=sap.ca.ui.model.format.NumberFormat.getInstance({style:'percentage',decimals:2});return n.format(p)},formatHouseNumberStreet:function(h,s){if(!h){h=""}if(!s){s=""}var a=cus.sd.myquotations.util.Formatter.getResourceBundle().getText("HOUSE_NB_STREET",[h,s]);return a},formatCityCountry:function(p,c,a){if(!p){p=""}if(!c){c=""}if(!a){a=""}var b=cus.sd.myquotations.util.Formatter.getResourceBundle().getText("CITY_COUNTRY",[p,c,a]);return b},formatQuotationID:function(q,a){if(!a){a=""}if(!q){q=""}var Q=cus.sd.myquotations.util.Formatter.getResourceBundle().getText("QUOTATION_VALUE",[q,a]);return Q},formatQuotation:function(q){if(!q){q=""}var Q=cus.sd.myquotations.util.Formatter.getResourceBundle().getText("QUOTATION",[q]);return Q},formatNetValue:function(c){if(!c){c=""}return cus.sd.myquotations.util.Formatter.getResourceBundle().getText("NETVALUE_VALUE",[c])},formatListPrice:function(c){if(!c){c="";return cus.sd.myquotations.util.Formatter.getResourceBundle().getText("LIST_PRICE")}return cus.sd.myquotations.util.Formatter.getResourceBundle().getText("LIST_PRICE_VALUE",[c])},formatExpiryDate:function(e){if(e){e=cus.sd.myquotations.util.Formatter.Date(e)}else{e=""}return cus.sd.myquotations.util.Formatter.getResourceBundle().getText("EXPIRES_VALUE",[e])},formatFromToDate:function(d,a){var D;var o;if(!d&&!a){return""}if(a){D=cus.sd.myquotations.util.Formatter.Date(a)}else{D=cus.sd.myquotations.util.Formatter.getResourceBundle().getText("UNSPECIFIED_VALUE")}if(d){o=cus.sd.myquotations.util.Formatter.Date(d)}else{o=cus.sd.myquotations.util.Formatter.getResourceBundle().getText("UNSPECIFIED_VALUE")}return cus.sd.myquotations.util.Formatter.getResourceBundle().getText("DATE_VALID_FROMTO",[o,D])},formatExpiry:function(e,a){var m="";if(a==="C"){return""}if(e){var n=new Date();e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());n=new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate());var d=parseInt((e-n)/(24*3600*1000),10);if(d<0){m=cus.sd.myquotations.util.Formatter.getResourceBundle().getText("FILTER_EXPIRY_EXPIRED")}if(d===0){m=cus.sd.myquotations.util.Formatter.getResourceBundle().getText("EXPIRY_TODAY")}if(d===1){m=cus.sd.myquotations.util.Formatter.getResourceBundle().getText("EXPIRY_TOMORROW")}if(d>1){m=cus.sd.myquotations.util.Formatter.getResourceBundle().getText("EXPIRY_MSG",[d])}}else{m=""}return m},formatExpiryState:function(e,a){if(a==="C"){return"None"}if(e){var n=new Date();e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());n=new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate());var d=parseInt((e-n)/(24*3600*1000),10);var c=cus.sd.myquotations.util.Formatter.getApplicationFacade().getApplicationModel("customizing").getProperty("/RED_THRESHOLD");if(d<=c){return"Error"}return"Success"}},formatStatus:function(e,a){if(a===""){return""}return e},formatMatDesc:function(m){if(!m){return cus.sd.myquotations.util.Formatter.getResourceBundle().getText("NO_MATERIAL_DESC")}return m},StatusRefLabel:function(s){switch(s){case"":return" ";case"A":return cus.sd.myquotations.util.Formatter.getResourceBundle().getText("STATUS_NOT_REF");case"B":return cus.sd.myquotations.util.Formatter.getResourceBundle().getText("STATUS_PART_REF");case"C":return cus.sd.myquotations.util.Formatter.getResourceBundle().getText("STATUS_ALL_REF")}},StatusRejColor:function(s){switch(s){case"B":return"Error";case"C":return"Error"}},StatusLabel:function(s){switch(s){case"":return" ";case"A":return cus.sd.myquotations.util.Formatter.getResourceBundle().getText("STATUS_NOT_REJ");case"B":return cus.sd.myquotations.util.Formatter.getResourceBundle().getText("STATUS_PART_REJ");case"C":return cus.sd.myquotations.util.Formatter.getResourceBundle().getText("STATUS_ALL_REJ")}},rejectionStatus:function(r,a,b){var s="";if((b==='A'||b==="")&&a==='A'){s=" "}else if(b==='B'&&a==='A'){s=cus.sd.myquotations.util.Formatter.getResourceBundle().getText("STATUS_PART_REF")}else if(b==='C'&&a==='A'){s=cus.sd.myquotations.util.Formatter.getResourceBundle().getText("STATUS_ALL_REF")}else if(b==='B'&&a==='C'){s=cus.sd.myquotations.util.Formatter.getResourceBundle().getText("STATUS_PART_REFJEC")}else if((b==='A'||b==="")&&a==='C'){s=cus.sd.myquotations.util.Formatter.getResourceBundle().getText("STATUS_FULL_REJ")}return s},visiblityForRejection:function(r,a){var e=true;if(a==="C"||r==="C"){e=false}return e},visiblityForRejectionDLL:function(r,a){var e=true;if(a==="C"){e=false}return e},MobileText:function(i){var t=i;if(jQuery.device.is.phone){t=""}return t},formatUnitCurrency:function(u,c){if(u===undefined){u=0}if(!c){c=""}var v=sap.ca.ui.model.format.AmountFormat.FormatAmountStandardWithCurrency(u,c);return v},formatQuantity:function(v,u){if(v===undefined){v=0}if(!u){u=""}var q=sap.ca.ui.model.format.QuantityFormat.getInstance(null,{style:"standard",});var a=q.format(v);return cus.sd.myquotations.util.Formatter.getResourceBundle().getText("QUANTITY_UNIT",[a,u])},formatOutputState:function(s){switch(s){case"0":return sap.ui.core.ValueState.None;case"1":return sap.ui.core.ValueState.Success;case"2":return sap.ui.core.ValueState.Error}},formatPartnerFuncDesc:function(p){return cus.sd.myquotations.util.Formatter.getResourceBundle().getText("PARTNERFUNCTION")+": "+p},formatPartnerDesc:function(p){return cus.sd.myquotations.util.Formatter.getResourceBundle().getText("PARTNER")+": "+p}};
